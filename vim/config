call plug#begin('~/.vim/plugged')
Plug 'preservim/NERDTree'
Plug 'mileszs/ack.vim'
Plug 'tpope/vim-pathogen'
Plug 'tmhedberg/SimpylFold'
Plug 'vim-scripts/indentpython.vim'
Plug 'vim-syntastic/syntastic'
Plug 'nvie/vim-flake8'
Plug 'jnurmine/Zenburn'
Plug 'altercation/vim-colors-solarized'
Plug 'vim-airline/vim-airline'
Plug 'junegunn/fzf', { 'do': { -> fzf#install() } }
Plug 'junegunn/fzf.vim'
Plug 'ryanoasis/vim-devicons'
call plug#end()

autocmd VimEnter *
  \  if len(filter(values(g:plugs), '!isdirectory(v:val.dir)'))
  \|   PlugInstall --sync | q
  \| endif

syntax enable
set mouse=a

" Space & tab
set tabstop=4
set softtabstop=4
set expandtab
set autoindent
set shiftwidth=4
set scrolloff=10
set encoding=utf-8

" UI config
set number
set showcmd
set cursorline
filetype indent on
set wildmenu
set lazyredraw
set showmatch
if has('gui_running')
    set background=dark
    colorscheme solarized
endif

" Searching
set incsearch
set hlsearch
nnoremap <leader><space> :nohlsearch<CR>

" Folding
set foldenable
set foldlevelstart=10
set foldnestmax=10
nnoremap <space> za
set foldmethod=indent

" Movement
nnoremap j gj
nnoremap k gk
noremap H b
noremap L e
noremap gh ^
noremap gl $
nnoremap gV `[v`]

" Leader Shortcuts
inoremap jk <esc>
nnoremap <leader>u :GundoToggle<CR>
nnoremap <leader>s :mksession<CR>

" Terminal
nnoremap <C-`> :term<CR>

" NERDTree
nnoremap <leader>n :NERDTreeFocus<CR>
nnoremap <C-e> :NERDTreeToggle<CR>
nnoremap <C-f> :NERDTreeFind<CR>
let NERDTreeIgnore=['\.pyc$', '\~$'] "ignore files in NERDTree

" fzf.vim
let g:fzf_preview_window = ['up:60%', 'ctrl-/']
nnoremap <C-p> :Files<CR>
nnoremap <C-s> :Ag<CR>
command! -bang -nargs=? -complete=dir Files
    \ call fzf#vim#files(<q-args>, {'options': ['--layout=reverse', '--info=inline', '--preview', '~/.vim/plugged/fzf.vim/bin/preview.sh {}']}, <bang>0)

" Python
let python_highlight_all = 1
